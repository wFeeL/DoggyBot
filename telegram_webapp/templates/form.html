<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="../static/styles.css">
    <link rel="stylesheet" href="../static/form.css">
    <script src="../static/script.js"></script>
    <title>–ê–Ω–∫–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞</title>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é -->
    <div class="back-button">
        <a href="/">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <div id="form_body">
        <h2 style="margin: 10px 1% 20px 1%; color: var(--tg-theme-text-color); font-size: 1.8rem;">–ê–Ω–∫–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞</h2>

        <div class="form-section">
            <div class="section-header">
                <div class="section-icon">üë§</div>
                <h3>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
            </div>

            <form id="user_form">
                <div class="entry">
                    <label for="full_name">–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ</label>
                    <span class="input_container">
                        <input name="full_name" type="text" maxlength="150" required>
                        <span></span>
                    </span>
                </div>

                <div class="entry">
                    <label for="phone_number">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <span class="input_container">
                        <input name="phone_number" type="tel" placeholder="+7 XXX XXX XX XX" pattern="\+7 \d{3} \d{3} \d{2} \d{2}" value="+7" oninput="formatPhoneNumber(this);" minlength="18" maxlength="18" required>
                        <span></span>
                    </span>
                </div>

                <div class="entry">
                    <label for="birth_date">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <span class="input_container">
                        <input name="birth_date" type="date" min="1900-01-01" onfocus="this.setAttribute('max', new Date().toISOString().slice(0, 10))" required>
                        <span></span>
                    </span>
                </div>

                <div class="entry">
                    <label for="about_me">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ —Å–µ–±–µ</label>
                    <span class="input_container">
                        <textarea name="about_me" placeholder="–ü–æ –∂–µ–ª–∞–Ω–∏—é" maxlength="2048"></textarea>
                        <span></span>
                    </span>
                </div>
            </form>
        </div>

        <div class="form-section">
            <div class="section-header">
                <div class="section-icon">üêæ</div>
                <h3>–ü–∏—Ç–æ–º—Ü—ã (–º–∏–Ω–∏–º—É–º 1)</h3>
            </div>

            <div id="pets_entries">
                <div class="pet_entry card">
                    <div class="pet_header">
                        <div class="pet_header_content">
                            <span class="pet_top_label">–ü–∏—Ç–æ–º–µ—Ü 1</span>
                            <div class="pet_actions">
                                <button class="delete_pet" onclick="deletePet(this)" title="–£–¥–∞–ª–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                                <div class="arrow_down">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pet_content">
                        <div class="entry">
                            <label for="name">–ö–ª–∏—á–∫–∞</label>
                            <span class="input_container">
                                <input name="name" maxlength="32" oninput="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).trim();" required>
                                <span></span>
                            </span>
                        </div>

                        <div class="entry">
                            <label for="weight">–ü—Ä–∏–º–µ—Ä–Ω—ã–π –≤–µ—Å (–∫–≥.)</label>
                            <span class="input_container">
                                <input name="weight" type="number" min="0" max="100" required>
                                <span></span>
                            </span>
                        </div>

                        <div class="entry">
                            <label for="birth_date">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                            <span class="input_container">
                                <input name="birth_date" type="date" min="1900-01-01" onfocus="this.setAttribute('max', new Date().toISOString().slice(0, 10))" required>
                                <span></span>
                            </span>
                        </div>

                        <div class="entry">
                            <label for="breed">–ü–æ—Ä–æ–¥–∞</label>
                            <span class="input_container">
                                <input name="breed" maxlength="32" oninput="validateBreed(this)" required>
                                <span></span>
                            </span>
                        </div>

                        <div class="entry">
                            <label>–ü–æ–ª</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="gender_1" value="male" required>
                                    <span class="radio-custom"></span>
                                    <span class="radio-label">–ú—É–∂—Å–∫–æ–π</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="gender_1" value="female" required>
                                    <span class="radio-custom"></span>
                                    <span class="radio-label">–ñ–µ–Ω—Å–∫–∏–π</span>
                                </label>
                            </div>
                        </div>

                        <div class="entry">
                            <label>–í–∏–¥ –ø–∏—Ç–æ–º—Ü–∞</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="pet_type_1" value="dog" required>
                                    <span class="radio-custom"></span>
                                    <span class="radio-label">–°–æ–±–∞–∫–∞</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="pet_type_1" value="cat" required>
                                    <span class="radio-custom"></span>
                                    <span class="radio-label">–ö–æ—Ç</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="add_pet_button" class="button add-button" onclick="addPet();">
                <span class="button-icon">+</span>
                –î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
            </div>
        </div>

        <div class="form-note">
            <p>üìã –ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∫–µ—Ç—ã –º—ã —Å–º–æ–∂–µ–º –ø–æ–¥–æ–±—Ä–∞—Ç—å –¥–ª—è –≤–∞—Å —Å–∞–º—ã–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —É—Å–ª—É–≥–∏</p>
            <p>üêï‚Äçü¶∫ –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Ç–µ–º –ª—É—á—à–µ –º—ã —Å–º–æ–∂–µ–º –ø–æ–º–æ—á—å –≤–∞—à–µ–º—É –ø–∏—Ç–æ–º—Ü—É</p>
        </div>

        <div class="button submit-button" onclick="submitForm()">
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É
        </div>
    </div>

    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Telegram Web App
        if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.ready();
            Telegram.WebApp.expand();

            console.log("Telegram Web App initialized");
            console.log("User data:", Telegram.WebApp.initDataUnsafe.user);
        } else {
            console.log("Telegram Web App –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω");
        }
    </script>
</body>
</html>